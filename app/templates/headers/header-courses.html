<nav class="navbar navbar-expand-lg navbar-light fixed-top px-1">
  <div class="container-fluid">
    <a class="navbar-brand me-4" href="#">
      <img src="{{url_for('static', filename='media/logo.svg')}}" width="50" height="50" alt="bytesprint">
    </a>
    <div class="d-flex gap-1 gap-md-2">
      <ul class="list-unstyled mt-3 d-lg-none flex-shrink-0" style="color: white; font-size: 1.2rem;">
        <li><i class="bi bi-search"></i></li>
      </ul>
      {% if current_user.is_authenticated %}
      <ul class="nav">
        <li class="nav-item me-3 mt-2 d-lg-none list-unstyled flex-shrink-0">
          <a class="nav-link text-light link-opacity-75-hover position-relative" href="#">
            <i class="bi bi-bell align-middle" style="font-size: 1.3rem;"></i>
            <span class="position-absolute top-1 start-100 translate-middle badge rounded-pill bg-light text-primary" style="font-family: 'Telegraf-Regular', sans-serif;">
              99+
              <span class="visually-hidden">unread messages</span>
            </span>
          </a>
        </li>
        <li class="nav-item list-unstyled dropdown d-lg-none flex-shrink-0">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: white;">
            <i class="bi bi-person-circle" style="color: white; font-size: 2rem;"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-start" aria-labelledby="userDropdown">
            <li><a class="dropdown-item" href="{{ url_for('main.preferences') }}">Settings</a></li>
            <li><a class="dropdown-item" href="{{ url_for('main.profile') }}">Profile</a></li>
            {% if current_user.is_administrator() %}
            <li><a class="dropdown-item" href="{{ url_for('main.for_admins_only') }}">Dashboard</a></li>
            {% endif %}
            <li><a class="dropdown-item" href="{{ url_for('auth.logout') }}">Log out</a></li>
          </ul>
        </li>
        <li class="nav-item list-unstyled me-5 d-none d-xl-inline"></li>
        <li class="nav-item list-unstyled me-3 d-none d-xl-inline"></li>
      </ul>
      <button class="d-flex d-lg-none flex-column py-2 px-2 toggle flex-shrink-0 me-2" style="gap: 0.4em; background: none; border:none;margin-top:0.8em" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
        <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
        <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
      </button>
    {% else %}
    <button class="d-flex d-lg-none flex-column py-2 px-2 toggle flex-shrink-0" style="gap: 0.4em; background: none; border:none;margin-top:0.7em" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
      <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
      <span class="bg-light rounded-1" style="width: 28px; height: 2px;"></span>
    </button>
    {% endif %}
    </div>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav nav-underline me-auto">
        <li class="nav-item mt-2">
          <a class="nav-link nav-link {% if request.path == url_for('main.home') %}active{% endif %}" aria-current="page" href="{{ url_for('main.home') }}" style="color: white; position: relative;">
            Home
          </a>
        </li>
        <li class="nav-item mt-2">
          <a class="nav-link nav-link {% if request.path == url_for('main.boutique') %}active{% endif %}" href="{{ url_for('main.boutique') }}" style="color: white;">
            Shop
          </a>
        </li>
        <li class="nav-item mt-2">
          <a class="nav-link {% if request.path == url_for('main.courses') %}active{% endif %}" href="{{ url_for('main.courses') }}" style="color: white;">
            Courses
          </a>
        </li>
        <li class="nav-item mt-2">
          <a class="nav-link {% if request.path == url_for('main.doc') %}active{% endif %}" href="{{ url_for('main.doc') }}" style="color: white;">
            Docs
          </a>
        </li>
        <li class="nav-item mt-2">
          <a class="nav-link {% if request.path == url_for('main.map3D') %}active{% endif %}" href="{{ url_for('main.map3D') }}" style="color: white;">
            3D Mapping
          </a>
        </li>
        {% if current_user.is_authenticated %}
        <ul class="navbar-nav nav-underline">
          <li class="nav-item me-4 mt-2 d-none d-lg-inline">
            <a class="nav-link text-light link-opacity-75-hover position-relative" href="#">
              <i class="bi bi-bell align-middle" style="font-size: 1.5rem;"></i>
              <span class="position-absolute top-1 start-100 translate-middle badge rounded-pill bg-light text-primary" style="font-family: 'Telegraf-Regular', sans-serif;">
                99+
                <span class="visually-hidden">unread messages</span>
              </span>
            </a>
          </li>
          <li class="nav-item me-4 mt-2">
            <a class="nav-link text-light link-opacity-75-hover position-relative" href="#">
              <i class="bi bi-calendar2-event-fill align-middle" style="font-size: 1.5rem;"></i>
              <span class="position-absolute top-1 start-100 translate-middle badge rounded-pill bg-light text-primary" style="font-family: 'Telegraf-Regular', sans-serif;">
                99+
                <span class="visually-hidden">unread messages</span>
              </span>
            </a>
          </li>
        </ul>
        {% endif %}
      </ul>
      {% if current_user.is_authenticated %}
      <ul class="navbar-nav">
        <li class="nav-item me-4 mt-2">
          <a class="nav-link text-light link-opacity-75-hover position-relative" href="#">
            <i class="bi bi-gift align-middle" style="font-size: 1.5rem;"></i>
            <span class="position-absolute top-1 start-100 translate-middle badge rounded-pill bg-light text-primary" style="font-family: 'Telegraf-Regular', sans-serif;">
              99+
              <span class="visually-hidden">unread messages</span>
            </span>
          </a>
        </li>
        <li class="list-unstyled me-4 mt-3 d-none d-lg-inline" style="color: white; font-size: 1.5rem;">
          <i class="bi bi-search"></i>
        </li>
        <li class="nav-item me-4 mt-2">
          <a class="nav-link text-light link-opacity-75-hover position-relative" href="#">
            <i class="bi bi-chat-left-text-fill align-middle" style="font-size: 1.5rem;"></i>
            <span class="position-absolute top-1 start-100 translate-middle badge rounded-pill bg-light text-primary" style="font-family: 'Telegraf-Regular', sans-serif;">
              99+
              <span class="visually-hidden">unread messages</span>
            </span>
          </a>
        </li>
        <li class="nav-item dropdown d-none d-lg-inline me-5">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: white;">
            <i class="bi bi-person-circle" style="color: white; font-size: 2rem;"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-start" aria-labelledby="userDropdown">
            <li><a class="dropdown-item" href="{{ url_for('main.preferences') }}">Settings</a></li>
            <li><a class="dropdown-item" href="{{ url_for('main.profile') }}">Profile</a></li>
            {% if current_user.is_administrator() %}
            <li><a class="dropdown-item" href="{{ url_for('main.for_admins_only') }}">Dashboard</a></li>
            {% endif %}
            <li><a class="dropdown-item" href="{{ url_for('auth.logout') }}">Log out</a></li>
          </ul>
        </li>
        <li class="nav-item list-unstyled me-5 d-none d-xl-inline"></li>
        <li class="nav-item list-unstyled me-3 d-none d-xl-inline"></li>
      </ul>
      {% else %}
      <ul class="navbar-nav ms-auto mt-3 mt-lg-2">
        <li class="nav-item d-none me-3 d-lg-inline" style="color: white; font-size: 1.4rem; margin-top: 0.5em;">
          <i class="bi bi-search"></i>
        </li>
        <li class="nav-item me-2 mb-2 mt-2">
          <a class="btn btn-outline-light border-2" href="{{ url_for('auth.register') }}" style="margin-right: 10px;">Get Started
          </a>
        </li>
        <li class="nav-item mt-2">
          <a class="btn btn-primary" href="{{ url_for('auth.login') }}" style="color: white;">Sign in</a>
        </li>
        <div class="py-5 py-lg-0"></div>
      </ul>
      {% endif %}
    </div>
  </div>
</nav>
